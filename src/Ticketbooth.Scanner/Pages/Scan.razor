@page "/scan"

@inject IJSRuntime _jsRuntime;
@inject QrCodeValidator _qrCodeValidator;

<video id="preview"></video>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await _jsRuntime.InvokeVoidAsync("beginScan", DotNetObjectReference.Create(_qrCodeValidator));
    }
}
